<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>파일 확장자 차단</title>
    <link rel="stylesheet" th:href="@{/css/global.css}">
</head>
<body>
    <h2>파일 확장자 차단</h2>
    <p>파일확장자에 따라 특정 형식의 파일을 첨부하거나 전송하지 못하도록 제한</p>

    <hr>

    <!-- 고정 확장자 -->
    <h3>고정 확장자</h3>
    <div>
        <form>
            <div class="fixed-list">
                <div class="fixed-item" th:each="item : ${fixedList}">
                    <input type="checkbox" th:id="${item.id}"
                        th:value="${item.name}"
                        th:checked="${item.pxStatus == 'Y' && item.isActive == 0 ? 'checked' : null }"
                        data-type="FIXED">
                    <label th:for="${item.id}" th:text="${item.name}"></label>
                </div>
            </div>
        </form>
    </div>

    <hr>

    <!-- 커스텀 확장자 -->
    <h3>커스텀 확장자</h3>
    <form id="customForm">
        <input type="text" id="customName" placeholder="확장자 입력 (예: sh)">
        <button type="button" id="addCustom">+ 추가</button>
    </form>

    <p th:text="${#lists.size(customList)} + '/200'"></p>

    <div class="custom-area">
        <div th:each="item : ${customList}" class="custom-item">
            <input type="checkbox"
                th:id="${item.id}"
                th:value="${item.name}"
                th:checked="${item.pxStatus == 'Y' and item.isActive == 0}"
                data-type="CUSTOM">
            <label th:for="${item.id}" th:text="${item.name}"></label>

            <button type="button" class="deleteBtn"
                    th:attr="data-id=${item.id}, data-type=${item.type}">X</button>
        </div>
    </div>
    <script th:src="@{/js/extension.js}"></script>
</body>
</html>
